!function(t){function e(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){a(23),t.exports=a(3)},function(t,e){var a={};a.EPSILON=1e-6,a.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,a.RANDOM=Math.random,a.ENABLE_SIMD=!1,a.SIMD_AVAILABLE=a.ARRAY_TYPE===Float32Array&&"SIMD"in this,a.USE_SIMD=a.ENABLE_SIMD&&a.SIMD_AVAILABLE,a.setMatrixArrayType=function(t){a.ARRAY_TYPE=t};var r=Math.PI/180;a.toRadian=function(t){return t*r},a.equals=function(t,e){return Math.abs(t-e)<=a.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=a},function(t,e){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),n=function(){function t(e,r,n,o){a(this,t),console.log("in LoadPool class"),this.util=r,this.webgl=o,this.glMatrix=n,this.init===!0}return r(t,[{key:"init",value:function(){this.gl=webgl.getContext()}}]),t}();e["default"]=n},function(t,e,a){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.world=e.webvr=e.prim=e.loadVideo=e.loadAudio=e.loadTexture=e.loadModel=e.webgl=e.util=void 0;var n=a(13),o=r(n),u=a(14),i=r(u),l=a(2),s=(r(l),a(10)),c=r(s),f=a(9),h=r(f),M=a(8),m=r(M),x=a(11),d=r(x),S=a(15),I=r(S),v=a(12),b=r(v),D=a(16),g=r(D);console.log("in es6");var F=(t.env.WEBPACK_ENV,a(17));F?console.log("loaded gl-matrix"):console.error("gl-matrix could'nt be loaded...");var p=new o["default"],y=null;e.webgl=y=new i["default"]((!1),F,p);var w=new I["default"]((!1),p,F,y),E=new h["default"]((!0),p,F,y),A=new c["default"]((!0),p,F,y),P=new m["default"]((!0),p,F,y),_=new d["default"]((!0),p,F,y),O=new b["default"]((!0),p,F,y,E,A,P,_),T=new g["default"](y,O);e.util=p,e.webgl=y,e.loadModel=E,e.loadTexture=A,e.loadAudio=P,e.loadVideo=_,e.prim=O,e.webvr=w,e.world=T}).call(e,a(7))},function(t,e,a){var r=a(1),n={};n.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},n.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},n.fromValues=function(t,e,a,n,o,u,i,l,s){var c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=a,c[3]=n,c[4]=o,c[5]=u,c[6]=i,c[7]=l,c[8]=s,c},n.set=function(t,e,a,r,n,o,u,i,l,s){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t[4]=o,t[5]=u,t[6]=i,t[7]=l,t[8]=s,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,e){if(t===e){var a=e[1],r=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=a,t[5]=e[7],t[6]=r,t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},n.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=e[4],i=e[5],l=e[6],s=e[7],c=e[8],f=c*u-i*s,h=-c*o+i*l,M=s*o-u*l,m=a*f+r*h+n*M;return m?(m=1/m,t[0]=f*m,t[1]=(-c*r+n*s)*m,t[2]=(i*r-n*u)*m,t[3]=h*m,t[4]=(c*a-n*l)*m,t[5]=(-i*a+n*o)*m,t[6]=M*m,t[7]=(-s*a+r*l)*m,t[8]=(u*a-r*o)*m,t):null},n.adjoint=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=e[4],i=e[5],l=e[6],s=e[7],c=e[8];return t[0]=u*c-i*s,t[1]=n*s-r*c,t[2]=r*i-n*u,t[3]=i*l-o*c,t[4]=a*c-n*l,t[5]=n*o-a*i,t[6]=o*s-u*l,t[7]=r*l-a*s,t[8]=a*u-r*o,t},n.determinant=function(t){var e=t[0],a=t[1],r=t[2],n=t[3],o=t[4],u=t[5],i=t[6],l=t[7],s=t[8];return e*(s*o-u*l)+a*(-s*n+u*i)+r*(l*n-o*i)},n.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=a[0],M=a[1],m=a[2],x=a[3],d=a[4],S=a[5],I=a[6],v=a[7],b=a[8];return t[0]=h*r+M*u+m*s,t[1]=h*n+M*i+m*c,t[2]=h*o+M*l+m*f,t[3]=x*r+d*u+S*s,t[4]=x*n+d*i+S*c,t[5]=x*o+d*l+S*f,t[6]=I*r+v*u+b*s,t[7]=I*n+v*i+b*c,t[8]=I*o+v*l+b*f,t},n.mul=n.multiply,n.translate=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=a[0],M=a[1];return t[0]=r,t[1]=n,t[2]=o,t[3]=u,t[4]=i,t[5]=l,t[6]=h*r+M*u+s,t[7]=h*n+M*i+c,t[8]=h*o+M*l+f,t},n.rotate=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=Math.sin(a),M=Math.cos(a);return t[0]=M*r+h*u,t[1]=M*n+h*i,t[2]=M*o+h*l,t[3]=M*u-h*r,t[4]=M*i-h*n,t[5]=M*l-h*o,t[6]=s,t[7]=c,t[8]=f,t},n.scale=function(t,e,a){var r=a[0],n=a[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},n.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},n.fromRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=0,t[3]=-a,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},n.fromQuat=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=a+a,i=r+r,l=n+n,s=a*u,c=r*u,f=r*i,h=n*u,M=n*i,m=n*l,x=o*u,d=o*i,S=o*l;return t[0]=1-f-m,t[3]=c-S,t[6]=h+d,t[1]=c+S,t[4]=1-s-m,t[7]=M-x,t[2]=h-d,t[5]=M+x,t[8]=1-s-f,t},n.normalFromMat4=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=e[4],i=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],m=e[12],x=e[13],d=e[14],S=e[15],I=a*i-r*u,v=a*l-n*u,b=a*s-o*u,D=r*l-n*i,g=r*s-o*i,F=n*s-o*l,p=c*x-f*m,y=c*d-h*m,w=c*S-M*m,E=f*d-h*x,A=f*S-M*x,P=h*S-M*d,_=I*P-v*A+b*E+D*w-g*y+F*p;return _?(_=1/_,t[0]=(i*P-l*A+s*E)*_,t[1]=(l*w-u*P-s*y)*_,t[2]=(u*A-i*w+s*p)*_,t[3]=(n*A-r*P-o*E)*_,t[4]=(a*P-n*w+o*y)*_,t[5]=(r*w-a*A-o*p)*_,t[6]=(x*F-d*g+S*D)*_,t[7]=(d*b-m*F-S*v)*_,t[8]=(m*g-x*b+S*I)*_,t):null},n.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t[6]=e[6]+a[6],t[7]=e[7]+a[7],t[8]=e[8]+a[8],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t[6]=e[6]-a[6],t[7]=e[7]-a[7],t[8]=e[8]-a[8],t},n.sub=n.subtract,n.multiplyScalar=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*a,t},n.multiplyScalarAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t[4]=e[4]+a[4]*r,t[5]=e[5]+a[5]*r,t[6]=e[6]+a[6]*r,t[7]=e[7]+a[7]*r,t[8]=e[8]+a[8]*r,t},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],u=t[3],i=t[4],l=t[5],s=t[6],c=t[7],f=t[8],h=e[0],M=e[1],m=e[2],x=e[3],d=e[4],S=e[5],I=t[6],v=e[7],b=e[8];return Math.abs(a-h)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))&&Math.abs(n-M)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(o-m)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(u-x)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(l-S)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(s-I)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(I))&&Math.abs(c-v)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(f-b)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))},t.exports=n},function(t,e,a){var r=a(1),n={};n.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},n.fromValues=function(t,e,a){var n=new r.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=a,n},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},n.set=function(t,e,a,r){return t[0]=e,t[1]=a,t[2]=r,t},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t},n.sub=n.subtract,n.multiply=function(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t[2]=e[2]*a[2],t},n.mul=n.multiply,n.divide=function(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t[2]=e[2]/a[2],t},n.div=n.divide,n.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},n.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},n.min=function(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t[2]=Math.min(e[2],a[2]),t},n.max=function(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t[2]=Math.max(e[2],a[2]),t},n.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},n.scale=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t},n.scaleAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t},n.distance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(a*a+r*r+n*n)},n.dist=n.distance,n.squaredDistance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return a*a+r*r+n*n},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],a=t[1],r=t[2];return Math.sqrt(e*e+a*a+r*r)},n.len=n.length,n.squaredLength=function(t){var e=t[0],a=t[1],r=t[2];return e*e+a*a+r*r},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},n.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},n.normalize=function(t,e){var a=e[0],r=e[1],n=e[2],o=a*a+r*r+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},n.cross=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=a[0],i=a[1],l=a[2];return t[0]=n*l-o*i,t[1]=o*u-r*l,t[2]=r*i-n*u,t},n.lerp=function(t,e,a,r){var n=e[0],o=e[1],u=e[2];return t[0]=n+r*(a[0]-n),t[1]=o+r*(a[1]-o),t[2]=u+r*(a[2]-u),t},n.hermite=function(t,e,a,r,n,o){var u=o*o,i=u*(2*o-3)+1,l=u*(o-2)+o,s=u*(o-1),c=u*(3-2*o);return t[0]=e[0]*i+a[0]*l+r[0]*s+n[0]*c,t[1]=e[1]*i+a[1]*l+r[1]*s+n[1]*c,t[2]=e[2]*i+a[2]*l+r[2]*s+n[2]*c,t},n.bezier=function(t,e,a,r,n,o){var u=1-o,i=u*u,l=o*o,s=i*u,c=3*o*i,f=3*l*u,h=l*o;return t[0]=e[0]*s+a[0]*c+r[0]*f+n[0]*h,t[1]=e[1]*s+a[1]*c+r[1]*f+n[1]*h,t[2]=e[2]*s+a[2]*c+r[2]*f+n[2]*h,t},n.random=function(t,e){e=e||1;var a=2*r.RANDOM()*Math.PI,n=2*r.RANDOM()-1,o=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(a)*o,t[1]=Math.sin(a)*o,t[2]=n*e,t},n.transformMat4=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=a[3]*r+a[7]*n+a[11]*o+a[15];return u=u||1,t[0]=(a[0]*r+a[4]*n+a[8]*o+a[12])/u,t[1]=(a[1]*r+a[5]*n+a[9]*o+a[13])/u,t[2]=(a[2]*r+a[6]*n+a[10]*o+a[14])/u,t},n.transformMat3=function(t,e,a){var r=e[0],n=e[1],o=e[2];return t[0]=r*a[0]+n*a[3]+o*a[6],t[1]=r*a[1]+n*a[4]+o*a[7],t[2]=r*a[2]+n*a[5]+o*a[8],t},n.transformQuat=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=a[0],i=a[1],l=a[2],s=a[3],c=s*r+i*o-l*n,f=s*n+l*r-u*o,h=s*o+u*n-i*r,M=-u*r-i*n-l*o;return t[0]=c*s+M*-u+f*-l-h*-i,t[1]=f*s+M*-i+h*-u-c*-l,t[2]=h*s+M*-l+c*-i-f*-u,t},n.rotateX=function(t,e,a,r){var n=[],o=[];return n[0]=e[0]-a[0],n[1]=e[1]-a[1],n[2]=e[2]-a[2],o[0]=n[0],o[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),o[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t},n.rotateY=function(t,e,a,r){var n=[],o=[];return n[0]=e[0]-a[0],n[1]=e[1]-a[1],n[2]=e[2]-a[2],o[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),o[1]=n[1],o[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t},n.rotateZ=function(t,e,a,r){var n=[],o=[];return n[0]=e[0]-a[0],n[1]=e[1]-a[1],n[2]=e[2]-a[2],o[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),o[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),o[2]=n[2],t[0]=o[0]+a[0],t[1]=o[1]+a[1],t[2]=o[2]+a[2],t},n.forEach=function(){var t=n.create();return function(e,a,r,n,o,u){var i,l;for(a||(a=3),r||(r=0),l=n?Math.min(n*a+r,e.length):e.length,i=r;i<l;i+=a)t[0]=e[i],t[1]=e[i+1],t[2]=e[i+2],o(t,t,u),e[i]=t[0],e[i+1]=t[1],e[i+2]=t[2];return e}}(),n.angle=function(t,e){var a=n.fromValues(t[0],t[1],t[2]),r=n.fromValues(e[0],e[1],e[2]);n.normalize(a,a),n.normalize(r,r);var o=n.dot(a,r);return o>1?0:Math.acos(o)},n.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],u=e[0],i=e[1],l=e[2];return Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},t.exports=n},function(t,e,a){var r=a(1),n={};n.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},n.fromValues=function(t,e,a,n){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=a,o[3]=n,o},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},n.set=function(t,e,a,r,n){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t},n.sub=n.subtract,n.multiply=function(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t[2]=e[2]*a[2],t[3]=e[3]*a[3],t},n.mul=n.multiply,n.divide=function(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t[2]=e[2]/a[2],t[3]=e[3]/a[3],t},n.div=n.divide,n.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},n.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},n.min=function(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t[2]=Math.min(e[2],a[2]),t[3]=Math.min(e[3],a[3]),t},n.max=function(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t[2]=Math.max(e[2],a[2]),t[3]=Math.max(e[3],a[3]),t},n.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},n.scale=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t},n.scaleAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t},n.distance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(a*a+r*r+n*n+o*o)},n.dist=n.distance,n.squaredDistance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],o=e[3]-t[3];return a*a+r*r+n*n+o*o},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],a=t[1],r=t[2],n=t[3];return Math.sqrt(e*e+a*a+r*r+n*n)},n.len=n.length,n.squaredLength=function(t){var e=t[0],a=t[1],r=t[2],n=t[3];return e*e+a*a+r*r+n*n},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},n.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},n.normalize=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=a*a+r*r+n*n+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=a*u,t[1]=r*u,t[2]=n*u,t[3]=o*u),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},n.lerp=function(t,e,a,r){var n=e[0],o=e[1],u=e[2],i=e[3];return t[0]=n+r*(a[0]-n),t[1]=o+r*(a[1]-o),t[2]=u+r*(a[2]-u),t[3]=i+r*(a[3]-i),t},n.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),n.normalize(t,t),n.scale(t,t,e),t},n.transformMat4=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3];return t[0]=a[0]*r+a[4]*n+a[8]*o+a[12]*u,t[1]=a[1]*r+a[5]*n+a[9]*o+a[13]*u,t[2]=a[2]*r+a[6]*n+a[10]*o+a[14]*u,t[3]=a[3]*r+a[7]*n+a[11]*o+a[15]*u,t},n.transformQuat=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=a[0],i=a[1],l=a[2],s=a[3],c=s*r+i*o-l*n,f=s*n+l*r-u*o,h=s*o+u*n-i*r,M=-u*r-i*n-l*o;return t[0]=c*s+M*-u+f*-l-h*-i,t[1]=f*s+M*-i+h*-u-c*-l,t[2]=h*s+M*-l+c*-i-f*-u,t[3]=e[3],t},n.forEach=function(){var t=n.create();return function(e,a,r,n,o,u){var i,l;for(a||(a=4),r||(r=0),l=n?Math.min(n*a+r,e.length):e.length,i=r;i<l;i+=a)t[0]=e[i],t[1]=e[i+1],t[2]=e[i+2],t[3]=e[i+3],o(t,t,u),e[i]=t[0],e[i+1]=t[1],e[i+2]=t[2],e[i+3]=t[3];return e}}(),n.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],u=t[3],i=e[0],l=e[1],s=e[2],c=e[3];return Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(u-c)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))},t.exports=n},function(t,e){function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(t){if(c===setTimeout)return setTimeout(t,0);if((c===a||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function u(){x&&M&&(x=!1,M.length?m=M.concat(m):d=-1,m.length&&i())}function i(){if(!x){var t=n(u);x=!0;for(var e=m.length;e;){for(M=m,m=[];++d<e;)M&&M[d].run();d=-1,e=m.length}M=null,x=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function s(){}var c,f,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:a}catch(t){c=a}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var M,m=[],x=!1,d=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];m.push(new l(t,e)),1!==m.length||x||n(i)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=s,h.addListener=s,h.once=s,h.off=s,h.removeListener=s,h.removeAllListeners=s,h.emit=s,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=a(2),s=r(l),c=function(t){function e(t,a,r,u){return n(this,e),console.log("in LoadAudio class"),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a,r,u))}return u(e,t),i(e,[{key:"init",value:function(){}}]),e}(s["default"]);e["default"]=c},function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=a(2),s=r(l),c=function(t){function e(t,a,r,u){return n(this,e),console.log("in LoadModel class"),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a,r,u))}return u(e,t),i(e,[{key:"init",value:function(){}}]),e}(s["default"]);e["default"]=c},function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=a(2),s=r(l),c=function(t){function e(t,a,r,u){n(this,e),console.log("in LoadTexture class");var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a,r,u));return i.MAX_TIMEOUT=10,i.MAX_CACHE_IMAGES=16,i.blackPixel=new Uint8Array([0,0,0]),i.textureImageCache=new Array(i.MAX_CACHE_IMAGES),i.cacheCt=0,i.loadCt=0,i.waitCache=[],i.remainingCacheImages=i.MAX_CACHE_IMAGES,i.pendingTextureRequests=[],i}return u(e,t),i(e,[{key:"init",value:function(){}},{key:"getQueue",value:function(){for(var t=0;t<this.textureImageCache.length;t++){var e=this.textureImageCache[t];if(!e)return t;if(e&&e.busy===!1)return e}return-1}},{key:"createTexture",value:function(t,e){var a=this.webgl.getContext();a.bindTexture(a.TEXTURE_2D,t.texture),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,t.image),t.persist||(t.image.source=null,t.busy=!1),this.update()}},{key:"createWaitObj",value:function(t,e,a){return{source:t,callback:e,persist:a||!1}}},{key:"createLoadObj",value:function(t){var e=this,a={};return a.image=new Image,a.image.crossOrigin="anonymous",a.callback=waitObj.callback,a.busy=!0,a.image.addEventListener("load",function(){return e.createTexture(a,waitObj.callback)}),a.src=waitObj.source,a.presist=t,this.cacheCt++,a}},{key:"update",value:function(){var t=this,e=0,a=this.textureImageCache.length;if(this.waitCache.length>0)for(var r=this.waitCache[0];e<a;){var n=this.textureImageCache[e];if(!n){n=createLoadObj(r.persist),this.waitCache.shift(),this.loadCt--;break}if(n.busy===!1){n.busy=!0,n.src=waitCache.src,this.waitCache.shift(),this.loadCt--;break}e++}else for(;e<a;){var o=this.textureImageCache[e];o&&o.busy===!1&&(o.image.removeEventListener("load",function(){return t.createTexture}),o.persist===!1&&(o=null,this.cacheCt++)),e++}}},{key:"load",value:function(t,e,a,r){a&&(this.callback=a),this.waitCache[this.loadCt++]=this.createWaitObj(e,a,persist),this.cacheCt<this.MAX_CACHE_IMAGES&&this.update()}}]),e}(s["default"]);e["default"]=c},function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),l=a(2),s=r(l),c=function(t){function e(t,a,r,u){return n(this,e),console.log("in LoadVideo class"),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a,r,u))}return u(e,t),i(e,[{key:"init",value:function(){}}]),e}(s["default"]);e["default"]=c},function(t,e){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),n=function(){function t(e,r,n,o,u,i,l,s){a(this,t),console.log("in Prim class"),this.util=r,this.webgl=o,this.glMatrix=n,this.loadModel=u,this.loadTexture=i,this.loadAudio=l,this.loadVideo=s,this.objs=[],this.type={POINT:"POINT",LINE:"LINE",PLANE:"PLANE",CUBE:"CUBE",SPHERE:"SPHERE",DOME:"DOME",CONE:"CONE",CYLINDER:"CYLINDER",POLY:"POLY"}}return r(t,[{key:"setId",value:function(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?a:3&a|8).toString(16)});return e}},{key:"setVertexData",value:function(t){t=[];this.objs.length;for(var e in this.objs)t=t.concat(this.objs[e].vertices);return t}},{key:"setIndexData",value:function(t){t=[];this.objs.length;for(var e in this.objs)t=t.concat(this.objs[e].indices);return t}},{key:"createVarList",value:function(t){var e=t.length,a=" ",r={},n=["attribute","uniform","varying"];if(e)for(var o=0;o<t.length;o++){var u=t[o];if(u.indexOf("void main")!==-1)break;for(var i=0;i<n.length;i++){var l=n[i];if(r[l]||(r[l]={}),u.indexOf(l)>-1){console.log("SSS1:"+u),u=u.replace(/;\s*$/,""),console.log("SSS:"+u),u=u.split(a),console.log("FIRST: "+u);var s=u.shift();r[s]||(r[s]={}),console.log("SECOND AFTER SHIFT:"+s+" remainder:"+u);var c=u.shift();r[s][c]||(r[s][c]={});var f=u.shift();r[s][c][f]||(r[s][c][f]="empty"),console.log("THIRD AFTER SHIFT:"+c+" remainder:"+u)}}}return r}},{key:"objVS1",value:function(){var t=["attribute vec3 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat4 uMVMatrix;","uniform mat4 uPMatrix;","varying vec2 vTextureCoord;","void main(void) {","    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);","    vTextureCoord = aTextureCoord;","}"];return{code:t.join("\n"),varList:this.createVarList(t),render:function(){}}}},{key:"objFS1",value:function(){var t=["precision mediump float;","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","void main(void) {","    gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));","}"];return{code:t.join("\n"),varList:this.createVarList(t),render:function(){}}}},{key:"geometryPoint",value:function(){}},{key:"geometryLine",value:function(){}},{key:"geometryPlane",value:function(){}},{key:"geometryCube",value:function(t,e){var a=(t[0],t[1],t[2],[]),r=[];return{vertices:{data:a,itemSize:3,numItems:a.length/4},indices:{data:r,itemSize:1,numItems:r.length}}}},{key:"geometrySphere",value:function(){}},{key:"geometryDome",value:function(){}},{key:"geometryCone",value:function(){}},{key:"geometryCylinder",value:function(){}},{key:"geometryPoly",value:function(){}},{key:"createPrim",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments[2]),a=arguments[3],r=arguments[4],n=(arguments[5],arguments[6],this.webgl.getContext(),{});return n.id=this.setId(),n.name=t,n.position=e||this.glMatrix.vec3.create(0,0,0),n.translation=a||this.glMatrix.vec3.create(0,0,0),n.rotation=r||this.glMatrix.vec3.create(0,0,0),n.texture=null,n.color=null,n}},{key:"createCube",value:function(t,e,a,r,n,o,u){var i=this.createPrim(t,e,a,r,n,o,u);return i.geometry=this.geometryCube(i),i.type=this.type.CUBE,this.objs.push(i),i}}]),t}();e["default"]=n},function(t,e){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),n=function(){function t(){a(this,t),console.log("in Util")}return r(t,[{key:"isString",value:function(t){return"string"==typeof t||isObjectLike(t)&&objToString.call(t)==stringTag||!1}},{key:"isIFrame",value:function(){try{return window.self!==window.top}catch(t){return!0}return!1}},{key:"isPowerOfTwo",value:function(t){return 0===(t&t-1)}}]),t}();e["default"]=n},function(t,e){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),n=function(){function t(e,r,n,o){a(this,t),console.log("in webGL class"),this.gl=this.vs=this.vs=null,this.contextCount=0,this.glMatrix=r,this.util=n,e===!0&&this.init(canvas),o&&(this.debug=o)}return r(t,[{key:"init",value:function(t,e,a){var r=this;if(t?t=this.util.isString(t)?document.getElementById(t):t:(t=document.createElement("canvas"),t.width=480,t.height=320,document.body.appendChild(t)),t){var n=t.getBoundingClientRect();if(t.width=n.width,t.height=n.height,this.gl=this.createContext(t),this.gl){var o=this.gl;t.addEventListener("webglcontextlost",function(t){console.error("error: webglcontextlost event, context count:"+r.contextCount),e&&(r.gl=null,e(t)),t.preventDefault()},!1),t.addEventListener("webglcontextrestored",function(t){console.error("error: webglcontextrestored event, context count:"+r.contextCount),a&&a(t),t.preventDefault()},!1),this.stats={};var u=this.stats;u.highp=o.getShaderPrecisionFormat(o.FRAGMENT_SHADER,o.HIGH_FLOAT),u.maxTexSize=o.getParameter(o.MAX_TEXTURE_SIZE),u.maxCubeSize=o.getParameter(o.MAX_CUBE_MAP_TEXTURE_SIZE),u.maxRenderbufferSize=o.getParameter(o.MAX_RENDERBUFFER_SIZE),u.combinedUnits=o.getParameter(o.MAX_COMBINED_TEXTURE_IMAGE_UNITS),u.maxVSattribs=o.getParameter(o.MAX_VERTEX_ATTRIBS),u.maxVertexShader=o.getParameter(o.MAX_VERTEX_UNIFORM_VECTORS),u.maxFragmentShader=o.getParameter(o.MAX_FRAGMENT_UNIFORM_VECTORS),o.enable(o.DEPTH_TEST),o.enable(o.CULL_FACE),o.enable(o.BLEND),o.blendFunc(o.SRC_ALPHA,o.ONE),o.clearColor(.1,.1,.1,1)}return this.gl}return null}},{key:"ready",value:function(){var t=this.gl;return console.log("this.gl:"+t+" this.glMatrix:"+this.glMatrix),!(!t||!this.glMatrix)}},{key:"getCanvas",value:function(){return this.gl?this.gl.canvas:null}},{key:"resizeCanvas",value:function(){if(this.ready()){
var t=Math.max(window.devicePixelRatio,1),e=this.getCanvas(),a=e.clientWidth*t|0,r=e.clientHeight*t|0;if(e.width!==a||e.height!==r)return e.width=a,e.height=r,!0}return!1}},{key:"createContext",value:function(t){return this.gl&&this.contextCount>1&&(this.killContext(),this.contextCount--,this.gl=null),this.debug?(console.warn("In development mode, using WebGL debugging context"),this.gl=this.debug.makeDebugContext(t.getContext("webgl")),this.gl||(console.warn("using experimental-webgl context"),this.gl=this.debug.makeDebugContext(t.getContext("experimental-webgl")))):(console.log("creating new WebGL context"),this.gl=t.getContext("webgl"),this.gl||(this.gl=t.getContext("experimental-webgl"))),this.gl&&"function"==typeof this.gl.getParameter?(this.glVers=this.gl.getParameter(this.gl.VERSION).toLowerCase(),this.contextCount++,this.gl):null}},{key:"getContext",value:function(){return this.gl||console.warn("warning webgl context not initialized"),this.gl}},{key:"killContext",value:function(){console.log("in killcontext, count:"+this.contextCount),this.contextCount&&(console.log("killing WebGL context, count before:"+this.contextCount),this.gl.getExtension("WEBGL_lose_context").loseContext(),this.contextCount--)}},{key:"createShader",value:function(t,e){var a=null;if(t&&e){if(this.ready()){var r=this.gl;e.replace(/^[ \t]*\n/,""),t===r.VERTEX_SHADER?a=this.vs=r.createShader(t):t===r.FRAGMENT_SHADER?a=this.fs=r.createShader(t):console.error("createShader: type not recognized:"+t),r.shaderSource(a,e),r.compileShader(a),r.getShaderParameter(a,r.COMPILE_STATUS)||(console.error("createShader:"+r.getShaderInfoLog(a)),t===r.VERTEX_SHADER?this.vs=null:t==r.FRAGMENT_SHADER&&(this.fs=null),a=null)}}else console.error("createShader: invalid params, type:"+t+" source:"+e);return a}},{key:"createVertexShader",value:function(t){return this.createShader(this.gl.VERTEX_SHADER,t)}},{key:"createFragmentShader",value:function(t){return this.createShader(this.gl.FRAGMENT_SHADER,t)}},{key:"fetchShader",value:function(t,e){var a=this;return fetch(e,{method:"POST",mode:"cors",redirect:"follow",headers:new Headers({"Content-Type":"text/plain"})}).then(function(t){return console.log(text),!!t.ok&&t.text()}).then(function(e){if(e)return a.createShader(t,e)}),null}},{key:"fetchVertexShader",value:function(t){return this.fetchShader(this.gl.VERTEX_SHADER,t)}},{key:"fetchFragmentShader",value:function(t){return this.fetchShader(this.gl.FRAGMENT_SHADER,t)}},{key:"createShaderFromTag",value:function(t){if(this.util.isString(t)&&(t=document.getElementById(t)),!t)return console.error("createShaderFromTag: not found ("+t+")"),!1;var e=null;if("x-shader/x-vertex"==t.type)e=this.gl.VERTEX_SHADER;else{if("x-shader/x-fragment"!=t.type)return console.error("createShaderFromTag: type not found:("+t.type+")"),null;e=this.gl.FRAGMENT_SHADER}for(var a="",r=t.firstChild;r;)3==r.nodeType&&(a+=r.textContent),r=r.nextSibling;return this.createShader(e,a)}},{key:"createProgram",value:function(t,e){if(!t||!e)return console.error("createProgram: parameter error, vs:"+t+" fs:"+e),null;var a={};if(this.ready()){var r=this.gl,n=this.createVertexShader(t.code),o=this.createFragmentShader(e.code),u=r.createProgram();r.attachShader(u,n),r.attachShader(u,o),r.linkProgram(u),r.getProgramParameter(u,r.LINK_STATUS)?(a.shaderProgram=u,a.vsVars=t.varList,a.fsVars=e.varList):console.error("createProgram:"+r.getProgramInfoLog(u))}return a}},{key:"setAttributeLocations",value:function(t,e){var a=this.gl;for(var r in e){var n=e[r];console.log("PGGGG:"+n);for(var o in n)n[o]=a.getAttribLocation(t,o),a.enableVertexAttribArray(n[o]),console.log("gl.getAttribLocation( shaderProgram,"+o+") is"+n[o])}return e}},{key:"setUniformLocations",value:function(t,e){var a=this.gl;for(var r in e){var n=e[r];console.log("UGGGG:"+n);for(var o in n)n[o]=a.getUniformLocation(t,o),console.log("gl.getUniformLocation( shaderProgram,"+o+") is"+n[o])}return e}},{key:"bindAttributeLocations",value:function(t,e){var a=this.gl;if(e){this.attrib={};for(var r in e)console.log("binding attribute:"+r+" to:"+e[r]),a.bindAttribLocation(t,e[r],r),this.attrib[r]=e[r]}else console.warn("webgl.bindAttributes: no attributes supplied")}},{key:"getAttributes",value:function(t){for(var e=this.gl,a={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var o=e.getActiveAttrib(t,n);console.log("ADDING ATTRIB:"+o.name),a[o.name]=e.getAttribLocation(t,o.name)}return a.count=r,a}},{key:"getUniforms",value:function(t){for(var e=this.gl,a={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n="",o=0;o<r;o++){var u=e.getActiveUniform(t,o);n=u.name.replace("[0]",""),console.log("ADDING UNIVORM:"+n),a[n]=e.getUniformLocation(t,n)}return a.count=r,a}},{key:"getVarying",value:function(t){}},{key:"createVBO",value:function(t,e){if(!t)return console.error("createVBO: empty data"),null;if(!t.itemSize)return console.error("createVBO: itemSize must be specified"),null;if(!t.numItems)return console.error("createVBO: numitems must be specified"),null;if(!e)return console.error("createVBO: draw usage must be specified"),null;var a=null;if(this.ready()){var r=this.gl;a=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),e),a.itemSize=t.itemSize,a.numItems=t.numItems,this.vbo=a}return a}},{key:"createIBO",value:function(t,e){if(!t)return console.error("createIBO: empty data"),null;if(!t.itemSize)return console.error("createIBO: itemSize must be specified"),null;if(!t.numItems)return console.error("createIBO: numitems must be specified"),null;if(!e)return console.error("createIBO: draw usage must be specified"),null;var a=null;if(this.ready()){var r=this.gl;a=r.createBuffer(),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),e),a.itemSize=t.itemSize,a.numItems=t.numItems,this.ibo=a}return a}},{key:"createCBO",value:function(t,e){if(!t)return console.error("createCBO: empty data"),null;if(!t.itemSize)return console.error("createCBO: itemSize must be specified"),null;if(!t.numItems)return console.error("createCBO: numitems must be specified"),null;if(!e)return console.error("createCBO: drawing usage must be specified"),null;var a=null;if(this.ready()){var r=this.gl;a=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),e),a.itemSize=t.itemSize,a.numitems=t.numItems,this.cbo=a}return a}},{key:"createNBO",value:function(){return console.error("webgl.createNBO NOT IMPLEMENTED"),null}},{key:"createMat4Perspective",value:function(){}},{key:"setToMat3",value:function(){}},{key:"setModelView",value:function(){}},{key:"setProjection",value:function(){}},{key:"setNormals",value:function(){}},{key:"loadModel",value:function(){}},{key:"checkShaders",value:function(){var t=this.gl;return!!t.getProgramParameter(this.program,t.LINK_STATUS)||(this.vs&&!t.getShaderParameter(this.vs,t.COMPILE_STATUS)?console.error("error creating the vertex shader, "+t.getShaderInfoLog(this.vs)):this._fragmentShader&&!t.getShaderParameter(this._fragmentShader,t.COMPILE_STATUS)?console.error("error creating the fragment shader, "+t.getShaderInfoLog(this.fs)):console.error("error in gl program linking"),t.deleteProgram(this.program),t.deleteShader(this.vs),t.deleteShader(this.fs),this.program=this.vs=this.fs=null,!1)}},{key:"checkBufferObjects",value:function(t){return t&&t instanceof ArrayBuffer}}]),t}();e["default"]=n},function(t,e){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),n=function(){function t(e,r,n,o){a(this,t),console.log("in webVR class"),this.util=r,this.glMatrix=n,this.webgl=o,this.init===!0}return r(t,[{key:"init",value:function(){}}]),t}();e["default"]=n},function(t,e){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}}(),n=function(){function t(e,r){a(this,t),this.webgl=e,this.prim=r,this.canvas=e.getCanvas(),this.glMatrix=e.glMatrix,this.objVertices=[],this.objIndices=[],this.objColors=[],this.pMatrix=this.glMatrix.mat4.create(),this.mvMatrix=this.glMatrix.mat4.create(),this.timeOld=this.time=0}return r(t,[{key:"resize",value:function(t,e){}},{key:"init",value:function(){var t=this.webgl.getContext(),e=this.prim;this.program=this.webgl.createProgram(e.objVS1(),e.objFS1());var a=this.program.shaderProgram;t.useProgram(a),window.pgm=this.program,window.vsVars=this.program.vsVars,window.fsVars=this.program.fsVars,this.program.vsVars.attribute=this.webgl.setAttributeLocations(this.program.shaderProgram,this.program.vsVars.attribute),this.program.vsVars.uniform=this.webgl.setUniformLocations(this.program.shaderProgram,this.program.vsVars.uniform),this.program.fsVars.uniform=this.webgl.setUniformLocations(this.program.shaderProgram,this.program.fsVars.uniform);var r=this.prim.createCube();window.cube=r,this.render()}},{key:"create",value:function(){}},{key:"update",value:function(){}},{key:"render",value:function(){var t=this;requestAnimationFrame(function(){t.render()})}}]),t}();e["default"]=n},function(t,e,a){e.glMatrix=a(1),e.mat2=a(18),e.mat2d=a(19),e.mat3=a(4),e.mat4=a(20),e.quat=a(21),e.vec2=a(22),e.vec3=a(5),e.vec4=a(6)},function(t,e,a){var r=a(1),n={};n.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.fromValues=function(t,e,a,n){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=a,o[3]=n,o},n.set=function(t,e,a,r,n){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t},n.transpose=function(t,e){if(t===e){var a=e[1];t[1]=e[2],t[2]=a}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},n.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=a*o-n*r;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-n*u,t[3]=a*u,t):null},n.adjoint=function(t,e){var a=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=a,t},n.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},n.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=a[0],l=a[1],s=a[2],c=a[3];return t[0]=r*i+o*l,t[1]=n*i+u*l,t[2]=r*s+o*c,t[3]=n*s+u*c,t},n.mul=n.multiply,n.rotate=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=Math.sin(a),l=Math.cos(a);return t[0]=r*l+o*i,t[1]=n*l+u*i,t[2]=r*-i+o*l,t[3]=n*-i+u*l,t},n.scale=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=a[0],l=a[1];return t[0]=r*i,t[1]=n*i,t[2]=o*l,t[3]=u*l,t},n.fromRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=-a,t[3]=r,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},n.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},n.LDU=function(t,e,a,r){return t[2]=r[2]/r[0],a[0]=r[0],a[1]=r[1],a[3]=r[3]-t[2]*a[1],[t,e,a]},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t},n.sub=n.subtract,n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],u=t[3],i=e[0],l=e[1],s=e[2],c=e[3];return Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(u-c)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))},n.multiplyScalar=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t},n.multiplyScalarAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t},t.exports=n},function(t,e,a){var r=a(1),n={};n.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.fromValues=function(t,e,a,n,o,u){var i=new r.ARRAY_TYPE(6);return i[0]=t,i[1]=e,i[2]=a,i[3]=n,i[4]=o,i[5]=u,i},n.set=function(t,e,a,r,n,o,u){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t[4]=o,t[5]=u,t},n.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=e[4],i=e[5],l=a*o-r*n;return l?(l=1/l,t[0]=o*l,t[1]=-r*l,t[2]=-n*l,t[3]=a*l,t[4]=(n*i-o*u)*l,t[5]=(r*u-a*i)*l,t):null},n.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},n.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=e[4],l=e[5],s=a[0],c=a[1],f=a[2],h=a[3],M=a[4],m=a[5];return t[0]=r*s+o*c,t[1]=n*s+u*c,t[2]=r*f+o*h,t[3]=n*f+u*h,t[4]=r*M+o*m+i,t[5]=n*M+u*m+l,t},n.mul=n.multiply,n.rotate=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=e[4],l=e[5],s=Math.sin(a),c=Math.cos(a);return t[0]=r*c+o*s,t[1]=n*c+u*s,t[2]=r*-s+o*c,t[3]=n*-s+u*c,t[4]=i,t[5]=l,t},n.scale=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=e[4],l=e[5],s=a[0],c=a[1];return t[0]=r*s,t[1]=n*s,t[2]=o*c,t[3]=u*c,t[4]=i,t[5]=l,t},n.translate=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=e[4],l=e[5],s=a[0],c=a[1];return t[0]=r,t[1]=n,t[2]=o,t[3]=u,t[4]=r*s+o*c+i,t[5]=n*s+u*c+l,t},n.fromRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=-a,t[3]=r,t[4]=0,t[5]=0,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},n.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},n.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t},n.sub=n.subtract,n.multiplyScalar=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t},n.multiplyScalarAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t[4]=e[4]+a[4]*r,t[5]=e[5]+a[5]*r,t},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],u=t[3],i=t[4],l=t[5],s=e[0],c=e[1],f=e[2],h=e[3],M=e[4],m=e[5];return Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(n-c)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(o-f)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-h)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(i-M)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(l-m)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))},t.exports=n},function(t,e,a){var r=a(1),n={scalar:{},SIMD:{}};n.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},n.fromValues=function(t,e,a,n,o,u,i,l,s,c,f,h,M,m,x,d){var S=new r.ARRAY_TYPE(16);return S[0]=t,S[1]=e,S[2]=a,S[3]=n,S[4]=o,S[5]=u,S[6]=i,S[7]=l,S[8]=s,S[9]=c,S[10]=f,S[11]=h,S[12]=M,S[13]=m,S[14]=x,S[15]=d,S},n.set=function(t,e,a,r,n,o,u,i,l,s,c,f,h,M,m,x,d){return t[0]=e,t[1]=a,t[2]=r,t[3]=n,t[4]=o,t[5]=u,t[6]=i,t[7]=l,t[8]=s,t[9]=c,t[10]=f,t[11]=h,t[12]=M,t[13]=m,t[14]=x,t[15]=d,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.scalar.transpose=function(t,e){if(t===e){var a=e[1],r=e[2],n=e[3],o=e[6],u=e[7],i=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=a,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=n,t[13]=u,t[14]=i}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},n.SIMD.transpose=function(t,e){var a,r,n,o,u,i,l,s,c,f;return a=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),n=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4.shuffle(a,r,0,1,4,5),i=SIMD.Float32x4.shuffle(n,o,0,1,4,5),l=SIMD.Float32x4.shuffle(u,i,0,2,4,6),s=SIMD.Float32x4.shuffle(u,i,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,s),u=SIMD.Float32x4.shuffle(a,r,2,3,6,7),i=SIMD.Float32x4.shuffle(n,o,2,3,6,7),c=SIMD.Float32x4.shuffle(u,i,0,2,4,6),f=SIMD.Float32x4.shuffle(u,i,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},n.transpose=r.USE_SIMD?n.SIMD.transpose:n.scalar.transpose,n.scalar.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=e[4],i=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],m=e[12],x=e[13],d=e[14],S=e[15],I=a*i-r*u,v=a*l-n*u,b=a*s-o*u,D=r*l-n*i,g=r*s-o*i,F=n*s-o*l,p=c*x-f*m,y=c*d-h*m,w=c*S-M*m,E=f*d-h*x,A=f*S-M*x,P=h*S-M*d,_=I*P-v*A+b*E+D*w-g*y+F*p;return _?(_=1/_,t[0]=(i*P-l*A+s*E)*_,t[1]=(n*A-r*P-o*E)*_,t[2]=(x*F-d*g+S*D)*_,t[3]=(h*g-f*F-M*D)*_,t[4]=(l*w-u*P-s*y)*_,t[5]=(a*P-n*w+o*y)*_,t[6]=(d*b-m*F-S*v)*_,t[7]=(c*F-h*b+M*v)*_,t[8]=(u*A-i*w+s*p)*_,t[9]=(r*w-a*A-o*p)*_,t[10]=(m*g-x*b+S*I)*_,t[11]=(f*b-c*g-M*I)*_,t[12]=(i*y-u*E-l*p)*_,t[13]=(a*E-r*y+n*p)*_,t[14]=(x*v-m*D-d*I)*_,t[15]=(c*D-f*v+h*I)*_,t):null},n.SIMD.invert=function(t,e){var a,r,n,o,u,i,l,s,c,f,h=SIMD.Float32x4.load(e,0),M=SIMD.Float32x4.load(e,4),m=SIMD.Float32x4.load(e,8),x=SIMD.Float32x4.load(e,12);return u=SIMD.Float32x4.shuffle(h,M,0,1,4,5),r=SIMD.Float32x4.shuffle(m,x,0,1,4,5),a=SIMD.Float32x4.shuffle(u,r,0,2,4,6),r=SIMD.Float32x4.shuffle(r,u,1,3,5,7),u=SIMD.Float32x4.shuffle(h,M,2,3,6,7),o=SIMD.Float32x4.shuffle(m,x,2,3,6,7),n=SIMD.Float32x4.shuffle(u,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,u,1,3,5,7),u=SIMD.Float32x4.mul(n,o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),i=SIMD.Float32x4.mul(r,u),l=SIMD.Float32x4.mul(a,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,u),i),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,u),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),u=SIMD.Float32x4.mul(r,n),u=SIMD.Float32x4.swizzle(u,1,0,3,2),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),i),c=SIMD.Float32x4.mul(a,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(o,u)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,u),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),u=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(r,2,3,0,1),o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),n=SIMD.Float32x4.swizzle(n,2,3,0,1),i=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,u),i),s=SIMD.Float32x4.mul(a,u),u=SIMD.Float32x4.swizzle(u,2,3,0,1),i=SIMD.Float32x4.sub(i,SIMD.Float32x4.mul(n,u)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,u),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),u=SIMD.Float32x4.mul(a,r),u=SIMD.Float32x4.swizzle(u,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),s),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,u),c),u=SIMD.Float32x4.swizzle(u,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,u),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(n,u)),u=SIMD.Float32x4.mul(a,o),u=SIMD.Float32x4.swizzle(u,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(n,u)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,u),s),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,u),l),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(r,u)),u=SIMD.Float32x4.mul(a,n),u=SIMD.Float32x4.swizzle(u,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,u),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(r,u)),u=SIMD.Float32x4.swizzle(u,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,u)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,u),c),f=SIMD.Float32x4.mul(a,i),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),u=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(u,u),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(u,u))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,i)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},n.invert=r.USE_SIMD?n.SIMD.invert:n.scalar.invert,n.scalar.adjoint=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=e[4],i=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],m=e[12],x=e[13],d=e[14],S=e[15];return t[0]=i*(h*S-M*d)-f*(l*S-s*d)+x*(l*M-s*h),t[1]=-(r*(h*S-M*d)-f*(n*S-o*d)+x*(n*M-o*h)),t[2]=r*(l*S-s*d)-i*(n*S-o*d)+x*(n*s-o*l),t[3]=-(r*(l*M-s*h)-i*(n*M-o*h)+f*(n*s-o*l)),t[4]=-(u*(h*S-M*d)-c*(l*S-s*d)+m*(l*M-s*h)),t[5]=a*(h*S-M*d)-c*(n*S-o*d)+m*(n*M-o*h),t[6]=-(a*(l*S-s*d)-u*(n*S-o*d)+m*(n*s-o*l)),t[7]=a*(l*M-s*h)-u*(n*M-o*h)+c*(n*s-o*l),t[8]=u*(f*S-M*x)-c*(i*S-s*x)+m*(i*M-s*f),t[9]=-(a*(f*S-M*x)-c*(r*S-o*x)+m*(r*M-o*f)),t[10]=a*(i*S-s*x)-u*(r*S-o*x)+m*(r*s-o*i),t[11]=-(a*(i*M-s*f)-u*(r*M-o*f)+c*(r*s-o*i)),t[12]=-(u*(f*d-h*x)-c*(i*d-l*x)+m*(i*h-l*f)),t[13]=a*(f*d-h*x)-c*(r*d-n*x)+m*(r*h-n*f),t[14]=-(a*(i*d-l*x)-u*(r*d-n*x)+m*(r*l-n*i)),t[15]=a*(i*h-l*f)-u*(r*h-n*f)+c*(r*l-n*i),t},n.SIMD.adjoint=function(t,e){var a,r,n,o,u,i,l,s,c,f,h,M,m,a=SIMD.Float32x4.load(e,0),r=SIMD.Float32x4.load(e,4),n=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(a,r,0,1,4,5),i=SIMD.Float32x4.shuffle(n,o,0,1,4,5),u=SIMD.Float32x4.shuffle(c,i,0,2,4,6),i=SIMD.Float32x4.shuffle(i,c,1,3,5,7),c=SIMD.Float32x4.shuffle(a,r,2,3,6,7),s=SIMD.Float32x4.shuffle(n,o,2,3,6,7),l=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.mul(l,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(i,c),h=SIMD.Float32x4.mul(u,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),f),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(i,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),f),m=SIMD.Float32x4.mul(u,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,c)),m=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),m),m=SIMD.Float32x4.swizzle(m,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,3,0,1),s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),M=SIMD.Float32x4.mul(u,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.mul(u,i),c=SIMD.Float32x4.swizzle(c,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),M),m=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),m),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),M),m=SIMD.Float32x4.sub(m,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(u,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,c)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,c),M),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),h),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(i,c)),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),m=SIMD.Float32x4.sub(m,SIMD.Float32x4.mul(i,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,c)),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(i,c),m),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,m),t},n.adjoint=r.USE_SIMD?n.SIMD.adjoint:n.scalar.adjoint,n.determinant=function(t){var e=t[0],a=t[1],r=t[2],n=t[3],o=t[4],u=t[5],i=t[6],l=t[7],s=t[8],c=t[9],f=t[10],h=t[11],M=t[12],m=t[13],x=t[14],d=t[15],S=e*u-a*o,I=e*i-r*o,v=e*l-n*o,b=a*i-r*u,D=a*l-n*u,g=r*l-n*i,F=s*m-c*M,p=s*x-f*M,y=s*d-h*M,w=c*x-f*m,E=c*d-h*m,A=f*d-h*x;return S*A-I*E+v*w+b*y-D*p+g*F},n.SIMD.multiply=function(t,e,a){var r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),u=SIMD.Float32x4.load(e,12),i=SIMD.Float32x4.load(a,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(i,3,3,3,3),u))));SIMD.Float32x4.store(t,0,l);var s=SIMD.Float32x4.load(a,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),u))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(a,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),u))));SIMD.Float32x4.store(t,8,h);var M=SIMD.Float32x4.load(a,12),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,0,0,0,0),r),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,3,3,3,3),u))));return SIMD.Float32x4.store(t,12,m),t},n.scalar.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=e[9],M=e[10],m=e[11],x=e[12],d=e[13],S=e[14],I=e[15],v=a[0],b=a[1],D=a[2],g=a[3];return t[0]=v*r+b*i+D*f+g*x,t[1]=v*n+b*l+D*h+g*d,t[2]=v*o+b*s+D*M+g*S,t[3]=v*u+b*c+D*m+g*I,v=a[4],b=a[5],D=a[6],g=a[7],t[4]=v*r+b*i+D*f+g*x,t[5]=v*n+b*l+D*h+g*d,t[6]=v*o+b*s+D*M+g*S,t[7]=v*u+b*c+D*m+g*I,v=a[8],b=a[9],D=a[10],g=a[11],t[8]=v*r+b*i+D*f+g*x,t[9]=v*n+b*l+D*h+g*d,t[10]=v*o+b*s+D*M+g*S,t[11]=v*u+b*c+D*m+g*I,v=a[12],b=a[13],D=a[14],g=a[15],t[12]=v*r+b*i+D*f+g*x,t[13]=v*n+b*l+D*h+g*d,t[14]=v*o+b*s+D*M+g*S,t[15]=v*u+b*c+D*m+g*I,t},n.multiply=r.USE_SIMD?n.SIMD.multiply:n.scalar.multiply,n.mul=n.multiply,n.scalar.translate=function(t,e,a){var r,n,o,u,i,l,s,c,f,h,M,m,x=a[0],d=a[1],S=a[2];return e===t?(t[12]=e[0]*x+e[4]*d+e[8]*S+e[12],t[13]=e[1]*x+e[5]*d+e[9]*S+e[13],t[14]=e[2]*x+e[6]*d+e[10]*S+e[14],t[15]=e[3]*x+e[7]*d+e[11]*S+e[15]):(r=e[0],n=e[1],o=e[2],u=e[3],i=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=e[9],M=e[10],m=e[11],t[0]=r,t[1]=n,t[2]=o,t[3]=u,t[4]=i,t[5]=l,t[6]=s,t[7]=c,t[8]=f,t[9]=h,t[10]=M,t[11]=m,t[12]=r*x+i*d+f*S+e[12],t[13]=n*x+l*d+h*S+e[13],t[14]=o*x+s*d+M*S+e[14],t[15]=u*x+c*d+m*S+e[15]),t},n.SIMD.translate=function(t,e,a){var r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),u=SIMD.Float32x4.load(e,12),i=SIMD.Float32x4(a[0],a[1],a[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),r=SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(i,0,0,0,0)),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(i,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2));var l=SIMD.Float32x4.add(r,SIMD.Float32x4.add(n,SIMD.Float32x4.add(o,u)));return SIMD.Float32x4.store(t,12,l),t},n.translate=r.USE_SIMD?n.SIMD.translate:n.scalar.translate,n.scalar.scale=function(t,e,a){var r=a[0],n=a[1],o=a[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},n.SIMD.scale=function(t,e,a){var r,n,o,u=SIMD.Float32x4(a[0],a[1],a[2],0);return r=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(r,SIMD.Float32x4.swizzle(u,0,0,0,0))),n=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(u,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(u,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},n.scale=r.USE_SIMD?n.SIMD.scale:n.scalar.scale,n.rotate=function(t,e,a,n){var o,u,i,l,s,c,f,h,M,m,x,d,S,I,v,b,D,g,F,p,y,w,E,A,P=n[0],_=n[1],O=n[2],T=Math.sqrt(P*P+_*_+O*O);return Math.abs(T)<r.EPSILON?null:(T=1/T,P*=T,_*=T,O*=T,o=Math.sin(a),u=Math.cos(a),i=1-u,l=e[0],s=e[1],c=e[2],f=e[3],h=e[4],M=e[5],m=e[6],x=e[7],d=e[8],S=e[9],I=e[10],v=e[11],b=P*P*i+u,D=_*P*i+O*o,g=O*P*i-_*o,F=P*_*i-O*o,p=_*_*i+u,y=O*_*i+P*o,w=P*O*i+_*o,E=_*O*i-P*o,A=O*O*i+u,t[0]=l*b+h*D+d*g,t[1]=s*b+M*D+S*g,t[2]=c*b+m*D+I*g,t[3]=f*b+x*D+v*g,t[4]=l*F+h*p+d*y,t[5]=s*F+M*p+S*y,t[6]=c*F+m*p+I*y,t[7]=f*F+x*p+v*y,t[8]=l*w+h*E+d*A,t[9]=s*w+M*E+S*A,t[10]=c*w+m*E+I*A,t[11]=f*w+x*E+v*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},n.scalar.rotateX=function(t,e,a){var r=Math.sin(a),n=Math.cos(a),o=e[4],u=e[5],i=e[6],l=e[7],s=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*n+s*r,t[5]=u*n+c*r,t[6]=i*n+f*r,t[7]=l*n+h*r,t[8]=s*n-o*r,t[9]=c*n-u*r,t[10]=f*n-i*r,t[11]=h*n-l*r,t},n.SIMD.rotateX=function(t,e,a){var r=SIMD.Float32x4.splat(Math.sin(a)),n=SIMD.Float32x4.splat(Math.cos(a));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),u=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(u,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,n),SIMD.Float32x4.mul(o,r))),t},n.rotateX=r.USE_SIMD?n.SIMD.rotateX:n.scalar.rotateX,n.scalar.rotateY=function(t,e,a){var r=Math.sin(a),n=Math.cos(a),o=e[0],u=e[1],i=e[2],l=e[3],s=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n-s*r,t[1]=u*n-c*r,t[2]=i*n-f*r,t[3]=l*n-h*r,t[8]=o*r+s*n,t[9]=u*r+c*n,t[10]=i*r+f*n,t[11]=l*r+h*n,t},n.SIMD.rotateY=function(t,e,a){var r=SIMD.Float32x4.splat(Math.sin(a)),n=SIMD.Float32x4.splat(Math.cos(a));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),u=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(u,r))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,r),SIMD.Float32x4.mul(u,n))),t},n.rotateY=r.USE_SIMD?n.SIMD.rotateY:n.scalar.rotateY,n.scalar.rotateZ=function(t,e,a){var r=Math.sin(a),n=Math.cos(a),o=e[0],u=e[1],i=e[2],l=e[3],s=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n+s*r,t[1]=u*n+c*r,t[2]=i*n+f*r,t[3]=l*n+h*r,t[4]=s*n-o*r,t[5]=c*n-u*r,t[6]=f*n-i*r,t[7]=h*n-l*r,t},n.SIMD.rotateZ=function(t,e,a){var r=SIMD.Float32x4.splat(Math.sin(a)),n=SIMD.Float32x4.splat(Math.cos(a));e!==t&&(t[8]=e[8],
t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),u=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(u,r))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,n),SIMD.Float32x4.mul(o,r))),t},n.rotateZ=r.USE_SIMD?n.SIMD.rotateZ:n.scalar.rotateZ,n.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},n.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,e,a){var n,o,u,i=a[0],l=a[1],s=a[2],c=Math.sqrt(i*i+l*l+s*s);return Math.abs(c)<r.EPSILON?null:(c=1/c,i*=c,l*=c,s*=c,n=Math.sin(e),o=Math.cos(e),u=1-o,t[0]=i*i*u+o,t[1]=l*i*u+s*n,t[2]=s*i*u-l*n,t[3]=0,t[4]=i*l*u-s*n,t[5]=l*l*u+o,t[6]=s*l*u+i*n,t[7]=0,t[8]=i*s*u+l*n,t[9]=l*s*u-i*n,t[10]=s*s*u+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},n.fromXRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=a,t[7]=0,t[8]=0,t[9]=-a,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromYRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-a,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=a,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromZRotation=function(t,e){var a=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=a,t[2]=0,t[3]=0,t[4]=-a,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotationTranslation=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=r+r,l=n+n,s=o+o,c=r*i,f=r*l,h=r*s,M=n*l,m=n*s,x=o*s,d=u*i,S=u*l,I=u*s;return t[0]=1-(M+x),t[1]=f+I,t[2]=h-S,t[3]=0,t[4]=f-I,t[5]=1-(c+x),t[6]=m+d,t[7]=0,t[8]=h+S,t[9]=m-d,t[10]=1-(c+M),t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},n.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},n.getRotation=function(t,e){var a=e[0]+e[5]+e[10],r=0;return a>0?(r=2*Math.sqrt(a+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},n.fromRotationTranslationScale=function(t,e,a,r){var n=e[0],o=e[1],u=e[2],i=e[3],l=n+n,s=o+o,c=u+u,f=n*l,h=n*s,M=n*c,m=o*s,x=o*c,d=u*c,S=i*l,I=i*s,v=i*c,b=r[0],D=r[1],g=r[2];return t[0]=(1-(m+d))*b,t[1]=(h+v)*b,t[2]=(M-I)*b,t[3]=0,t[4]=(h-v)*D,t[5]=(1-(f+d))*D,t[6]=(x+S)*D,t[7]=0,t[8]=(M+I)*g,t[9]=(x-S)*g,t[10]=(1-(f+m))*g,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t},n.fromRotationTranslationScaleOrigin=function(t,e,a,r,n){var o=e[0],u=e[1],i=e[2],l=e[3],s=o+o,c=u+u,f=i+i,h=o*s,M=o*c,m=o*f,x=u*c,d=u*f,S=i*f,I=l*s,v=l*c,b=l*f,D=r[0],g=r[1],F=r[2],p=n[0],y=n[1],w=n[2];return t[0]=(1-(x+S))*D,t[1]=(M+b)*D,t[2]=(m-v)*D,t[3]=0,t[4]=(M-b)*g,t[5]=(1-(h+S))*g,t[6]=(d+I)*g,t[7]=0,t[8]=(m+v)*F,t[9]=(d-I)*F,t[10]=(1-(h+x))*F,t[11]=0,t[12]=a[0]+p-(t[0]*p+t[4]*y+t[8]*w),t[13]=a[1]+y-(t[1]*p+t[5]*y+t[9]*w),t[14]=a[2]+w-(t[2]*p+t[6]*y+t[10]*w),t[15]=1,t},n.fromQuat=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=a+a,i=r+r,l=n+n,s=a*u,c=r*u,f=r*i,h=n*u,M=n*i,m=n*l,x=o*u,d=o*i,S=o*l;return t[0]=1-f-m,t[1]=c+S,t[2]=h-d,t[3]=0,t[4]=c-S,t[5]=1-s-m,t[6]=M+x,t[7]=0,t[8]=h+d,t[9]=M-x,t[10]=1-s-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.frustum=function(t,e,a,r,n,o,u){var i=1/(a-e),l=1/(n-r),s=1/(o-u);return t[0]=2*o*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(a+e)*i,t[9]=(n+r)*l,t[10]=(u+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*s,t[15]=0,t},n.perspective=function(t,e,a,r,n){var o=1/Math.tan(e/2),u=1/(r-n);return t[0]=o/a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*r*u,t[15]=0,t},n.perspectiveFromFieldOfView=function(t,e,a,r){var n=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),u=Math.tan(e.leftDegrees*Math.PI/180),i=Math.tan(e.rightDegrees*Math.PI/180),l=2/(u+i),s=2/(n+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((u-i)*l*.5),t[9]=(n-o)*s*.5,t[10]=r/(a-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*a/(a-r),t[15]=0,t},n.ortho=function(t,e,a,r,n,o,u){var i=1/(e-a),l=1/(r-n),s=1/(o-u);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+a)*i,t[13]=(n+r)*l,t[14]=(u+o)*s,t[15]=1,t},n.lookAt=function(t,e,a,o){var u,i,l,s,c,f,h,M,m,x,d=e[0],S=e[1],I=e[2],v=o[0],b=o[1],D=o[2],g=a[0],F=a[1],p=a[2];return Math.abs(d-g)<r.EPSILON&&Math.abs(S-F)<r.EPSILON&&Math.abs(I-p)<r.EPSILON?n.identity(t):(h=d-g,M=S-F,m=I-p,x=1/Math.sqrt(h*h+M*M+m*m),h*=x,M*=x,m*=x,u=b*m-D*M,i=D*h-v*m,l=v*M-b*h,x=Math.sqrt(u*u+i*i+l*l),x?(x=1/x,u*=x,i*=x,l*=x):(u=0,i=0,l=0),s=M*l-m*i,c=m*u-h*l,f=h*i-M*u,x=Math.sqrt(s*s+c*c+f*f),x?(x=1/x,s*=x,c*=x,f*=x):(s=0,c=0,f=0),t[0]=u,t[1]=s,t[2]=h,t[3]=0,t[4]=i,t[5]=c,t[6]=M,t[7]=0,t[8]=l,t[9]=f,t[10]=m,t[11]=0,t[12]=-(u*d+i*S+l*I),t[13]=-(s*d+c*S+f*I),t[14]=-(h*d+M*S+m*I),t[15]=1,t)},n.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t[2]=e[2]+a[2],t[3]=e[3]+a[3],t[4]=e[4]+a[4],t[5]=e[5]+a[5],t[6]=e[6]+a[6],t[7]=e[7]+a[7],t[8]=e[8]+a[8],t[9]=e[9]+a[9],t[10]=e[10]+a[10],t[11]=e[11]+a[11],t[12]=e[12]+a[12],t[13]=e[13]+a[13],t[14]=e[14]+a[14],t[15]=e[15]+a[15],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t[2]=e[2]-a[2],t[3]=e[3]-a[3],t[4]=e[4]-a[4],t[5]=e[5]-a[5],t[6]=e[6]-a[6],t[7]=e[7]-a[7],t[8]=e[8]-a[8],t[9]=e[9]-a[9],t[10]=e[10]-a[10],t[11]=e[11]-a[11],t[12]=e[12]-a[12],t[13]=e[13]-a[13],t[14]=e[14]-a[14],t[15]=e[15]-a[15],t},n.sub=n.subtract,n.multiplyScalar=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t[3]=e[3]*a,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12]*a,t[13]=e[13]*a,t[14]=e[14]*a,t[15]=e[15]*a,t},n.multiplyScalarAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t[2]=e[2]+a[2]*r,t[3]=e[3]+a[3]*r,t[4]=e[4]+a[4]*r,t[5]=e[5]+a[5]*r,t[6]=e[6]+a[6]*r,t[7]=e[7]+a[7]*r,t[8]=e[8]+a[8]*r,t[9]=e[9]+a[9]*r,t[10]=e[10]+a[10]*r,t[11]=e[11]+a[11]*r,t[12]=e[12]+a[12]*r,t[13]=e[13]+a[13]*r,t[14]=e[14]+a[14]*r,t[15]=e[15]+a[15]*r,t},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},n.equals=function(t,e){var a=t[0],n=t[1],o=t[2],u=t[3],i=t[4],l=t[5],s=t[6],c=t[7],f=t[8],h=t[9],M=t[10],m=t[11],x=t[12],d=t[13],S=t[14],I=t[15],v=e[0],b=e[1],D=e[2],g=e[3],F=e[4],p=e[5],y=e[6],w=e[7],E=e[8],A=e[9],P=e[10],_=e[11],O=e[12],T=e[13],z=e[14],R=e[15];return Math.abs(a-v)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(n-b)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(o-D)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(D))&&Math.abs(u-g)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(i-F)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(F))&&Math.abs(l-p)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(s-y)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-w)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(f-E)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(M-P)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(P))&&Math.abs(m-_)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(_))&&Math.abs(x-O)<=r.EPSILON*Math.max(1,Math.abs(x),Math.abs(O))&&Math.abs(d-T)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(S-z)<=r.EPSILON*Math.max(1,Math.abs(S),Math.abs(z))&&Math.abs(I-R)<=r.EPSILON*Math.max(1,Math.abs(I),Math.abs(R))},t.exports=n},function(t,e,a){var r=a(1),n=a(4),o=a(5),u=a(6),i={};i.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},i.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),a=o.fromValues(0,1,0);return function(r,n,u){var l=o.dot(n,u);return l<-.999999?(o.cross(t,e,n),o.length(t)<1e-6&&o.cross(t,a,n),o.normalize(t,t),i.setAxisAngle(r,t,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,n,u),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+l,i.normalize(r,r))}}(),i.setAxes=function(){var t=n.create();return function(e,a,r,n){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-a[0],t[5]=-a[1],t[8]=-a[2],i.normalize(e,i.fromMat3(e,t))}}(),i.clone=u.clone,i.fromValues=u.fromValues,i.copy=u.copy,i.set=u.set,i.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},i.setAxisAngle=function(t,e,a){a=.5*a;var r=Math.sin(a);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(a),t},i.getAxisAngle=function(t,e){var a=2*Math.acos(e[3]),r=Math.sin(a/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),a},i.add=u.add,i.multiply=function(t,e,a){var r=e[0],n=e[1],o=e[2],u=e[3],i=a[0],l=a[1],s=a[2],c=a[3];return t[0]=r*c+u*i+n*s-o*l,t[1]=n*c+u*l+o*i-r*s,t[2]=o*c+u*s+r*l-n*i,t[3]=u*c-r*i-n*l-o*s,t},i.mul=i.multiply,i.scale=u.scale,i.rotateX=function(t,e,a){a*=.5;var r=e[0],n=e[1],o=e[2],u=e[3],i=Math.sin(a),l=Math.cos(a);return t[0]=r*l+u*i,t[1]=n*l+o*i,t[2]=o*l-n*i,t[3]=u*l-r*i,t},i.rotateY=function(t,e,a){a*=.5;var r=e[0],n=e[1],o=e[2],u=e[3],i=Math.sin(a),l=Math.cos(a);return t[0]=r*l-o*i,t[1]=n*l+u*i,t[2]=o*l+r*i,t[3]=u*l-n*i,t},i.rotateZ=function(t,e,a){a*=.5;var r=e[0],n=e[1],o=e[2],u=e[3],i=Math.sin(a),l=Math.cos(a);return t[0]=r*l+n*i,t[1]=n*l-r*i,t[2]=o*l+u*i,t[3]=u*l-o*i,t},i.calculateW=function(t,e){var a=e[0],r=e[1],n=e[2];return t[0]=a,t[1]=r,t[2]=n,t[3]=Math.sqrt(Math.abs(1-a*a-r*r-n*n)),t},i.dot=u.dot,i.lerp=u.lerp,i.slerp=function(t,e,a,r){var n,o,u,i,l,s=e[0],c=e[1],f=e[2],h=e[3],M=a[0],m=a[1],x=a[2],d=a[3];return o=s*M+c*m+f*x+h*d,o<0&&(o=-o,M=-M,m=-m,x=-x,d=-d),1-o>1e-6?(n=Math.acos(o),u=Math.sin(n),i=Math.sin((1-r)*n)/u,l=Math.sin(r*n)/u):(i=1-r,l=r),t[0]=i*s+l*M,t[1]=i*c+l*m,t[2]=i*f+l*x,t[3]=i*h+l*d,t},i.sqlerp=function(){var t=i.create(),e=i.create();return function(a,r,n,o,u,l){return i.slerp(t,r,u,l),i.slerp(e,n,o,l),i.slerp(a,t,e,2*l*(1-l)),a}}(),i.invert=function(t,e){var a=e[0],r=e[1],n=e[2],o=e[3],u=a*a+r*r+n*n+o*o,i=u?1/u:0;return t[0]=-a*i,t[1]=-r*i,t[2]=-n*i,t[3]=o*i,t},i.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},i.length=u.length,i.len=i.length,i.squaredLength=u.squaredLength,i.sqrLen=i.squaredLength,i.normalize=u.normalize,i.fromMat3=function(t,e){var a,r=e[0]+e[4]+e[8];if(r>0)a=Math.sqrt(r+1),t[3]=.5*a,a=.5/a,t[0]=(e[5]-e[7])*a,t[1]=(e[6]-e[2])*a,t[2]=(e[1]-e[3])*a;else{var n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);var o=(n+1)%3,u=(n+2)%3;a=Math.sqrt(e[3*n+n]-e[3*o+o]-e[3*u+u]+1),t[n]=.5*a,a=.5/a,t[3]=(e[3*o+u]-e[3*u+o])*a,t[o]=(e[3*o+n]+e[3*n+o])*a,t[u]=(e[3*u+n]+e[3*n+u])*a}return t},i.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},i.exactEquals=u.exactEquals,i.equals=u.equals,t.exports=i},function(t,e,a){var r=a(1),n={};n.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},n.fromValues=function(t,e){var a=new r.ARRAY_TYPE(2);return a[0]=t,a[1]=e,a},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},n.set=function(t,e,a){return t[0]=e,t[1]=a,t},n.add=function(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t},n.subtract=function(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t},n.sub=n.subtract,n.multiply=function(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t},n.mul=n.multiply,n.divide=function(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t},n.div=n.divide,n.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},n.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},n.min=function(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t},n.max=function(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t},n.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},n.scale=function(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t},n.scaleAndAdd=function(t,e,a,r){return t[0]=e[0]+a[0]*r,t[1]=e[1]+a[1]*r,t},n.distance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(a*a+r*r)},n.dist=n.distance,n.squaredDistance=function(t,e){var a=e[0]-t[0],r=e[1]-t[1];return a*a+r*r},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],a=t[1];return Math.sqrt(e*e+a*a)},n.len=n.length,n.squaredLength=function(t){var e=t[0],a=t[1];return e*e+a*a},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},n.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},n.normalize=function(t,e){var a=e[0],r=e[1],n=a*a+r*r;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},n.cross=function(t,e,a){var r=e[0]*a[1]-e[1]*a[0];return t[0]=t[1]=0,t[2]=r,t},n.lerp=function(t,e,a,r){var n=e[0],o=e[1];return t[0]=n+r*(a[0]-n),t[1]=o+r*(a[1]-o),t},n.random=function(t,e){e=e||1;var a=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(a)*e,t[1]=Math.sin(a)*e,t},n.transformMat2=function(t,e,a){var r=e[0],n=e[1];return t[0]=a[0]*r+a[2]*n,t[1]=a[1]*r+a[3]*n,t},n.transformMat2d=function(t,e,a){var r=e[0],n=e[1];return t[0]=a[0]*r+a[2]*n+a[4],t[1]=a[1]*r+a[3]*n+a[5],t},n.transformMat3=function(t,e,a){var r=e[0],n=e[1];return t[0]=a[0]*r+a[3]*n+a[6],t[1]=a[1]*r+a[4]*n+a[7],t},n.transformMat4=function(t,e,a){var r=e[0],n=e[1];return t[0]=a[0]*r+a[4]*n+a[12],t[1]=a[1]*r+a[5]*n+a[13],t},n.forEach=function(){var t=n.create();return function(e,a,r,n,o,u){var i,l;for(a||(a=2),r||(r=0),l=n?Math.min(n*a+r,e.length):e.length,i=r;i<l;i+=a)t[0]=e[i],t[1]=e[i+1],o(t,t,u),e[i]=t[0],e[i+1]=t[1];return e}}(),n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},n.equals=function(t,e){var a=t[0],n=t[1],o=e[0],u=e[1];return Math.abs(a-o)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))},t.exports=n},function(t,e,a){(function(t){console.log("in app.js");var e=(t.env.WEBPACK_ENV,a(3));for(var r in e)console.log(r+":"+e[r]);console.warn("in release mode"),window.vrmini=e,console.log("Window.vrmini:"+e)}).call(e,a(7))}]);